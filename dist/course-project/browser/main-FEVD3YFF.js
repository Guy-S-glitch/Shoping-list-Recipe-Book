import{a as U,b as q}from"./chunk-BMUOC6CD.js";import{c as B}from"./chunk-AMA66JBV.js";import"./chunk-4INX72A2.js";import{a as m}from"./chunk-PFK6XVEQ.js";import{A as o,Aa as G,B as n,C as u,D as y,E as b,F as x,L as a,R as D,T as R,V as T,W as j,X as E,Y as F,l as I,m as M,o as L,oa as H,p as c,pa as N,q as k,r as f,ra as O,s as p,t as h,ta as A,u as v,ua as V,va as P,w as g,wa as w,x as l,xa as z,y as _,z as S}from"./chunk-NGME7X53.js";function te(t,e){t&1&&(o(0,"li",7)(1,"a",10),a(2,"authentication"),n()())}function ie(t,e){t&1&&(o(0,"li",7)(1,"a",11),a(2,"Recipes"),n()())}function re(t,e){if(t&1){let C=y();o(0,"ul",12)(1,"li")(2,"a",13),b("click",function(){h(C);let i=x();return v(i.onLogOut())}),a(3,"LogOut"),n()(),o(4,"li",14)(5,"a",15),a(6,"Manage "),u(7,"span",16),n(),o(8,"ul",17)(9,"li")(10,"a",13),b("click",function(){h(C);let i=x();return v(i.onSave())}),a(11,"Save Data"),n()(),o(12,"li")(13,"a",13),b("click",function(){h(C);let i=x();return v(i.onFetch())}),a(14,"Fetch Data"),n()()()()()}}var K=(()=>{let e=class e{constructor(r,i){this.dataStorageService=r,this.authService=i,this.isLoggedIn=!1}onSave(){this.dataStorageService.saveData().subscribe(r=>{console.log(r)})}onFetch(){this.dataStorageService.fetchData().subscribe(r=>{console.log(r)})}onLogOut(){this.authService.logOut()}ngOnInit(){this.subUser=this.authService.user.subscribe(r=>{this.isLoggedIn=!!r})}ngOnDestroy(){this.subUser.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(l(q),l(m))},e.\u0275cmp=f({type:e,selectors:[["app-header"]],decls:13,vars:3,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["routerLink","/",1,"navbar-brand"],[1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active",4,"ngIf"],["routerLinkActive","active"],["routerLink","/shopping-list"],["class","nav navbar-nav navbar-right",4,"ngIf"],["routerLink","/auth"],["routerLink","/recipes"],[1,"nav","navbar-nav","navbar-right"],[2,"cursor","pointer",3,"click"],["appDropdown","",1,"dropdown"],["role","button",1,"dropdown-toggle",2,"cursor","pointer"],[1,"caret"],[1,"dropdown-menu"]],template:function(i,s){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),a(4,"Recipe Book"),n()(),o(5,"div",4)(6,"ul",5),_(7,te,3,0,"li",6)(8,ie,3,0,"li",6),o(9,"li",7)(10,"a",8),a(11,"Shopping List"),n()()(),_(12,re,15,0,"ul",9),n()()()),i&2&&(g(7),S("ngIf",!s.isLoggedIn),g(),S("ngIf",s.isLoggedIn),g(4),S("ngIf",s.isLoggedIn))},dependencies:[D,A,V,z],encapsulation:2});let t=e;return t})();var Q=(()=>{let e=class e{constructor(r){this.authService=r}ngOnInit(){this.authService.autoLogin()}};e.\u0275fac=function(i){return new(i||e)(l(m))},e.\u0275cmp=f({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,s){i&1&&(u(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2),u(4,"router-outlet"),n()()())},dependencies:[O,K]});let t=e;return t})();var ne=[{path:"",redirectTo:"/recipes",pathMatch:"full"},{path:"recipes",loadChildren:()=>import("./chunk-XCFSNU7F.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-VII2CFAM.js").then(t=>t.ShoppingListModule)},{path:"auth",loadChildren:()=>import("./chunk-UKEMWIGD.js").then(t=>t.AuthModule)}],W=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({imports:[w.forRoot(ne,{preloadingStrategy:P}),w]});let t=e;return t})();var X=(()=>{let e=class e{intercept(r,i){return this.authService.user.pipe(I(1),M(s=>{if(!s)return i.handle(r);let $=r.clone({params:new R().set("auth",s.token)});return i.handle($)}))}constructor(r){this.authService=r}};e.\u0275fac=function(i){return new(i||e)(k(m))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({providers:[B,U,{provide:T,useClass:X,multi:!0}]});let t=e;return t})();var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e,bootstrap:[Q]}),e.\u0275inj=c({imports:[F,H,N,j,W,G,Y]});let t=e;return t})();E().bootstrapModule(Z).catch(t=>console.error(t));
